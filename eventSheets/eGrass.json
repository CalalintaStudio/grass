{
	"name": "eGrass",
	"events": [
		{
			"eventType": "variable",
			"name": "debugEnabled",
			"type": "boolean",
			"initialValue": "false",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 598621782749225
		},
		{
			"eventType": "variable",
			"name": "effectRadius",
			"type": "number",
			"initialValue": "100",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 668328410190239
		},
		{
			"eventType": "variable",
			"name": "effectX",
			"type": "number",
			"initialValue": "-9999",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 557087219414949
		},
		{
			"eventType": "variable",
			"name": "effectY",
			"type": "number",
			"initialValue": "-9999",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 367067574550027
		},
		{
			"eventType": "variable",
			"name": "effectDefaultCoordinateValue",
			"type": "number",
			"initialValue": "-9999",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 611645688249702
		},
		{
			"eventType": "variable",
			"name": "generationRows",
			"type": "number",
			"initialValue": "25",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 852681439949068
		},
		{
			"eventType": "variable",
			"name": "generationColumns",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 595001091898924
		},
		{
			"eventType": "variable",
			"name": "generationWidth",
			"type": "number",
			"initialValue": "20",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 988813994691579
		},
		{
			"eventType": "variable",
			"name": "generationHeight",
			"type": "number",
			"initialValue": "150",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 539579239000891
		},
		{
			"eventType": "variable",
			"name": "generationXDeltaMax",
			"type": "number",
			"initialValue": "5",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 365342173086436
		},
		{
			"eventType": "variable",
			"name": "generationYDeltaMax",
			"type": "number",
			"initialValue": "20",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 525085687928654
		},
		{
			"eventType": "variable",
			"name": "generationYOffset",
			"type": "number",
			"initialValue": "100",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 907256148384301
		},
		{
			"eventType": "variable",
			"name": "generationScaleChangeThreshold",
			"type": "number",
			"initialValue": "90",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 220183654266524
		},
		{
			"eventType": "variable",
			"name": "generationSeason",
			"type": "string",
			"initialValue": "SPRING",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 869710091803894
		},
		{
			"eventType": "variable",
			"name": "generationAccentWidth",
			"type": "number",
			"initialValue": "20",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 108831354810002
		},
		{
			"eventType": "variable",
			"name": "generationAccentHeight",
			"type": "number",
			"initialValue": "200",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 518392960067273
		},
		{
			"eventType": "variable",
			"name": "generationAccentChanceThreshold",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 512064581098386
		},
		{
			"eventType": "variable",
			"name": "generationAccentScaleFactor",
			"type": "number",
			"initialValue": "1.8",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 684145702255916
		},
		{
			"eventType": "comment",
			"text": "SINGLE SOIL THING CREATION"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-created",
					"objectClass": "OnSoilThings",
					"sid": 695200266430942
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "OnSoilThings",
					"sid": 137594261321424,
					"parameters": {
						"animation": "\"brightness_\"&str(choose(0,1,2,3,4))",
						"from": "beginning"
					}
				},
				{
					"id": "set-animation-frame",
					"objectClass": "OnSoilThings",
					"sid": 380290512666248,
					"parameters": {
						"frame-number": "random(Self.AnimationFrameCount)"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "OnSoilThings",
					"sid": 705315389802461,
					"parameters": {
						"instance-variable": "zSortingIndex",
						"value": "Self.Y"
					}
				},
				{
					"id": "set-wave",
					"objectClass": "OnSoilThings",
					"sid": 158326492691766,
					"behaviorType": "Sine",
					"parameters": {
						"wave": "sine"
					}
				},
				{
					"id": "set-movement",
					"objectClass": "OnSoilThings",
					"sid": 623378372630298,
					"behaviorType": "Sine",
					"parameters": {
						"movement": "angle"
					}
				},
				{
					"id": "set-magnitude",
					"objectClass": "OnSoilThings",
					"sid": 432797640390929,
					"behaviorType": "Sine",
					"parameters": {
						"magnitude": "10+choose(1,-1)*random(5)"
					}
				},
				{
					"id": "set-period",
					"objectClass": "OnSoilThings",
					"sid": 621534007958975,
					"behaviorType": "Sine",
					"parameters": {
						"period": "8+choose(1,2)"
					}
				},
				{
					"id": "set-cycle-position",
					"objectClass": "OnSoilThings",
					"sid": 307845842453551,
					"behaviorType": "Sine",
					"parameters": {
						"cycle-position": "random(1)"
					}
				},
				{
					"id": "update-initial-state",
					"objectClass": "OnSoilThings",
					"sid": 983303995872840,
					"behaviorType": "Sine"
				},
				{
					"id": "set-active",
					"objectClass": "OnSoilThings",
					"sid": 811459989931684,
					"behaviorType": "Sine",
					"parameters": {
						"state": "active"
					}
				}
			],
			"sid": 600175479369362,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 826537701969833,
							"parameters": {
								"value": "random(100)>50"
							}
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "OnSoilThings",
							"sid": 377077556677061,
							"parameters": {
								"state": "mirrored"
							}
						}
					],
					"sid": 136088966647584
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 149489853104032,
							"parameters": {
								"value": "random(100)>generationScaleChangeThreshold"
							}
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "OnSoilThings",
							"sid": 824360407912786,
							"parameters": {
								"state": "mirrored"
							}
						},
						{
							"id": "set-height",
							"objectClass": "OnSoilThings",
							"sid": 965575328407333,
							"parameters": {
								"height": "generationHeight*(1.2+choose(0.2,0.1,0.3,0))"
							}
						}
					],
					"sid": 691049363728777
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 584465246020247
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "OnSoilThings",
							"sid": 531034568944188,
							"parameters": {
								"instance-variable": "angleOffsetState",
								"value": "\"IDLE\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "OnSoilThings",
							"sid": 174076103697595,
							"parameters": {
								"instance-variable": "angleInitialValue",
								"value": "choose(3,2,1,0,-1,-2,-3)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "OnSoilThings",
							"sid": 732225047149669,
							"parameters": {
								"instance-variable": "angleOffset",
								"value": "0"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "OnSoilThings",
							"sid": 867562117031199,
							"parameters": {
								"instance-variable": "angleOffsetMax",
								"value": "10+random(3)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "OnSoilThings",
							"sid": 861049459613747,
							"parameters": {
								"instance-variable": "angleOffsetAttackRate",
								"value": "0.5"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "OnSoilThings",
							"sid": 885100540800011,
							"parameters": {
								"instance-variable": "angleOffsetDecayRate",
								"value": "0.5"
							}
						}
					],
					"sid": 201495231777989
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-screen",
							"objectClass": "OnSoilThings",
							"sid": 732352962446749,
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "OnSoilThings",
							"sid": 253054810853310
						}
					],
					"sid": 561897867751578
				}
			]
		},
		{
			"eventType": "comment",
			"text": "SINGLE GRASS PIECE CREATION"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-created",
					"objectClass": "objGrassPiece",
					"sid": 970661333316289
				}
			],
			"actions": [
				{
					"id": "set-width",
					"objectClass": "objGrassPiece",
					"sid": 395112264314085,
					"parameters": {
						"width": "generationWidth"
					}
				},
				{
					"id": "set-height",
					"objectClass": "objGrassPiece",
					"sid": 352525542240191,
					"parameters": {
						"height": "generationHeight"
					}
				}
			],
			"sid": 556603271668563,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 964930124663187,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"SUMMER\""
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "objGrassPiece",
							"sid": 276328666572933,
							"parameters": {
								"color": "rgbEx(100, 100, 0)"
							}
						}
					],
					"sid": 434126607112493
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 161783886868766,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"FALL\""
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "objGrassPiece",
							"sid": 384702493920740,
							"parameters": {
								"color": "rgbEx(100, 50, 0)"
							}
						}
					],
					"sid": 530755490154028
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 834517126681267,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"WINTER\""
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "objGrassPiece",
							"sid": 803847214015953,
							"parameters": {
								"color": "rgbEx(0, 50, 100)"
							}
						}
					],
					"sid": 447174921369296
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 504262695058778,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"SPRING\""
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "objGrassPiece",
							"sid": 339114502360620,
							"parameters": {
								"color": "rgbEx(0, 100, 50)"
							}
						}
					],
					"sid": 372109679319770
				}
			]
		},
		{
			"eventType": "comment",
			"text": "SINGLE ACCENT PIECE CREATION"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-created",
					"objectClass": "objAccentPiece",
					"sid": 499272219653593
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "objAccentPiece",
					"sid": 859124214421472,
					"parameters": {
						"animation": "generationSeason",
						"from": "beginning"
					}
				},
				{
					"id": "set-animation-frame",
					"objectClass": "objAccentPiece",
					"sid": 875363202803965,
					"parameters": {
						"frame-number": "random(Self.AnimationFrameCount)"
					}
				},
				{
					"id": "set-width",
					"objectClass": "objAccentPiece",
					"sid": 718195864722215,
					"parameters": {
						"width": "generationAccentWidth*generationAccentScaleFactor"
					}
				},
				{
					"id": "set-height",
					"objectClass": "objAccentPiece",
					"sid": 757815225589779,
					"parameters": {
						"height": "generationAccentHeight*generationAccentScaleFactor"
					}
				}
			],
			"sid": 767040116824106
		},
		{
			"eventType": "comment",
			"text": "SINGLE EFFECT EMITTER CREATION"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-created",
					"objectClass": "objEffectEmitter",
					"sid": 473297296506156
				}
			],
			"actions": [
				{
					"id": "set-scale",
					"objectClass": "objEffectEmitter",
					"sid": 883211169142000,
					"parameters": {
						"scale": "0.5"
					}
				}
			],
			"sid": 370808925466669,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 722341856588168,
							"parameters": {
								"value": "debugEnabled"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "objEffectEmitter",
							"sid": 788474894360751,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 863788901844359
				}
			]
		},
		{
			"eventType": "comment",
			"text": "TERRAIN CREATION"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-created",
					"objectClass": "tilBackgroundSoil",
					"sid": 391222464253665
				}
			],
			"actions": [
				{
					"id": "set-size",
					"objectClass": "tilBackgroundSoil",
					"sid": 121518214673367,
					"parameters": {
						"width": "ViewportWidth(0)*1.5",
						"height": "ViewportBottom(0)"
					}
				},
				{
					"id": "set-position",
					"objectClass": "tilBackgroundSoil",
					"sid": 800407344736311,
					"parameters": {
						"x": "ViewportWidth(0)/2",
						"y": "ViewportBottom(0)"
					}
				}
			],
			"sid": 157913893826514,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 845460151435726,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"SUMMER\""
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "tilBackgroundSoil",
							"sid": 669345701881835,
							"parameters": {
								"color": "rgbEx(100, 100, 0)"
							}
						}
					],
					"sid": 336059728872200
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 759678707635854,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"FALL\""
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "tilBackgroundSoil",
							"sid": 225703777804418,
							"parameters": {
								"color": "rgbEx(100, 50, 0)"
							}
						}
					],
					"sid": 447613740681478
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 114211809846877,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"WINTER\""
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "tilBackgroundSoil",
							"sid": 898018382514473,
							"parameters": {
								"color": "rgbEx(0, 50, 100)"
							}
						}
					],
					"sid": 859043185398052
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 322071133138228,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"SPRING\""
							}
						}
					],
					"actions": [
						{
							"id": "set-default-color",
							"objectClass": "tilBackgroundSoil",
							"sid": 356671158334520,
							"parameters": {
								"color": "rgbEx(0, 100, 50)"
							}
						}
					],
					"sid": 419235683495837
				}
			]
		},
		{
			"eventType": "comment",
			"text": "START THE LAYOUT"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 498824719233037
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 136789779299106,
					"parameters": {
						"variable": "generationColumns",
						"value": "ViewportWidth(0)/(generationWidth*0.5)"
					}
				},
				{
					"id": "destroy",
					"objectClass": "OnSoilThings",
					"sid": 269511858200208
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 230457598957729,
					"parameters": {
						"variable": "effectX",
						"value": "effectDefaultCoordinateValue"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 245402769798755,
					"parameters": {
						"variable": "effectY",
						"value": "effectDefaultCoordinateValue"
					}
				}
			],
			"sid": 686632599909615,
			"children": [
				{
					"eventType": "comment",
					"text": "SKY COLOR CHANGE"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 438125984144280,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"SUMMER\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-background-color",
							"objectClass": "System",
							"sid": 620322915858558,
							"parameters": {
								"layer": "\"Base\"",
								"color": "rgbEx(60, 100, 80)"
							}
						}
					],
					"sid": 648451764883916
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 483030354391116,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"FALL\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-background-color",
							"objectClass": "System",
							"sid": 763982652863727,
							"parameters": {
								"layer": "\"Base\"",
								"color": "rgbEx(100, 90, 90)"
							}
						}
					],
					"sid": 275323476547569
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 457182405668616,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"WINTER\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-background-color",
							"objectClass": "System",
							"sid": 395809295739569,
							"parameters": {
								"layer": "\"Base\"",
								"color": "rgbEx(80, 100, 100)"
							}
						}
					],
					"sid": 347833841056202
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 938042266260334,
							"parameters": {
								"variable": "generationSeason",
								"comparison": 0,
								"value": "\"SPRING\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layer-background-color",
							"objectClass": "System",
							"sid": 555872580679506,
							"parameters": {
								"layer": "\"Base\"",
								"color": "rgbEx(90, 90, 100)"
							}
						}
					],
					"sid": 736548353432691
				},
				{
					"eventType": "comment",
					"text": "ACTUAL GENERATION OF GRASS PATCH"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 520566260867389,
							"parameters": {
								"name": "\"generateY\"",
								"start-index": "0",
								"end-index": "generationRows"
							}
						}
					],
					"actions": [],
					"sid": 483061104395632,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for",
									"objectClass": "System",
									"sid": 955999149793572,
									"parameters": {
										"name": "\"generateX\"",
										"start-index": "0",
										"end-index": "generationColumns"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 803716218665169,
									"parameters": {
										"object-to-create": "objGrassPiece",
										"layer": "\"Grass\"",
										"x": "loopindex(\"generateX\")*generationWidth+random(generationXDeltaMax)",
										"y": "ViewportBottom(0)+generationYOffset-loopindex(\"generateY\")*generationHeight/7+random(generationYDeltaMax)",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-y",
									"objectClass": "tilBackgroundSoil",
									"sid": 641688803840097,
									"parameters": {
										"y": "objGrassPiece.Y"
									}
								}
							],
							"sid": 834116456317085
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "evaluate-expression",
									"objectClass": "System",
									"sid": 683287153199046,
									"parameters": {
										"value": "random(100)>generationAccentChanceThreshold"
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 250542143392954,
									"parameters": {
										"object-to-create": "objAccentPiece",
										"layer": "\"Grass\"",
										"x": "random(ViewportWidth(0))",
										"y": "ViewportBottom(0)+generationYOffset-loopindex(\"generateY\")*generationHeight/7+random(generationYDeltaMax)",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								}
							],
							"sid": 646061269349996
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 330129434863506,
							"parameters": {
								"value": "debugEnabled"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "txtStatistics",
							"sid": 406782215522701,
							"parameters": {
								"visibility": "invisible"
							}
						}
					],
					"sid": 151807173464050
				}
			]
		},
		{
			"eventType": "comment",
			"text": "UPDATE Z ORDER OF GRASS"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 965087612456373
				}
			],
			"actions": [
				{
					"id": "sort-z-order",
					"objectClass": "System",
					"sid": 168592623264697,
					"parameters": {
						"object": "OnSoilThings",
						"instance-variable": {
							"name": "zSortingIndex",
							"objectClass": "OnSoilThings"
						}
					}
				}
			],
			"sid": 497563971356279,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 764818937948859,
							"parameters": {
								"object": "objEffectEmitter"
							}
						}
					],
					"actions": [],
					"sid": 875444944436692,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "objEffectEmitter",
									"sid": 392321133945493,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "objEffectEmitter",
									"sid": 847797847471938,
									"parameters": {
										"x": "Mouse.X",
										"y": "Mouse.Y"
									}
								}
							],
							"sid": 619234187552938
						}
					]
				},
				{
					"eventType": "comment",
					"text": "STATE MACHINE FOR GRASS PIECES"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 198025693321969,
							"parameters": {
								"object": "OnSoilThings"
							}
						}
					],
					"actions": [
						{
							"id": "set-angle",
							"objectClass": "OnSoilThings",
							"sid": 955698005174995,
							"parameters": {
								"angle": "Self.angleInitialValue+((Self.angleOffset+choose(0.1,0.2,0.3))*Self.angleOffsetDirection)+Self.Sine.Value"
							}
						}
					],
					"sid": 251407942933400,
					"children": [
						{
							"eventType": "comment",
							"text": "WHILE IDLING, IF NEAR A SOURCE OF MOVEMENT SET THE STATE TO ATTACK"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "OnSoilThings",
									"sid": 104421293839645,
									"parameters": {
										"instance-variable": "angleOffsetState",
										"comparison": 0,
										"value": "\"IDLE\""
									}
								}
							],
							"actions": [],
							"sid": 264897306411939,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-nearestfurthest",
											"objectClass": "objEffectEmitter",
											"sid": 145683433980233,
											"parameters": {
												"which": "nearest",
												"x": "OnSoilThings.X",
												"y": "OnSoilThings.Y"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 217375643233469,
											"parameters": {
												"value": "distance(OnSoilThings.X,OnSoilThings.Y,objEffectEmitter.x,objEffectEmitter.Y) < effectRadius"
											}
										},
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 606702850484901,
											"parameters": {
												"value": "effectX<>effectDefaultCoordinateValue&effectY<>effectDefaultCoordinateValue"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "OnSoilThings",
											"sid": 841807731281591,
											"parameters": {
												"instance-variable": "angleOffsetDirection",
												"value": "Self.X<objEffectEmitter.X ? -1 : 1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "OnSoilThings",
											"sid": 786356272549795,
											"parameters": {
												"instance-variable": "angleOffsetState",
												"value": "\"ATTACK\""
											}
										}
									],
									"sid": 717284618878243
								}
							]
						},
						{
							"eventType": "comment",
							"text": "WHILE ATTACKING, ADD TO THE OFFSET. IF THE OFFSET REACHES THE MAX ALLOWED THEN SET THE STATE TO DECAY"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "OnSoilThings",
									"sid": 471185025603006,
									"parameters": {
										"instance-variable": "angleOffsetState",
										"comparison": 0,
										"value": "\"ATTACK\""
									}
								}
							],
							"actions": [],
							"sid": 739880021578580,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 298601475833374,
											"parameters": {
												"value": "OnSoilThings.angleOffset<OnSoilThings.angleOffsetMax"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "OnSoilThings",
											"sid": 963886907334926,
											"parameters": {
												"instance-variable": "angleOffset",
												"value": "Self.angleOffset+Self.angleOffsetAttackRate"
											}
										}
									],
									"sid": 682988170715620
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 362079129583022
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "OnSoilThings",
											"sid": 502379085099786,
											"parameters": {
												"instance-variable": "angleOffsetState",
												"value": "\"DECAY\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "OnSoilThings",
											"sid": 525375486222776,
											"parameters": {
												"instance-variable": "angleOffset",
												"value": "Self.angleOffsetMax"
											}
										}
									],
									"sid": 524842500249304
								}
							]
						},
						{
							"eventType": "comment",
							"text": "WHILE DECAYING, SUBTRACT FROM THE OFFSET. IF THE OFFSET REACHES ZERO THEN SET THE STATE TO IDLE"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "OnSoilThings",
									"sid": 194485588366338,
									"parameters": {
										"instance-variable": "angleOffsetState",
										"comparison": 0,
										"value": "\"DECAY\""
									}
								}
							],
							"actions": [],
							"sid": 163391928030564,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "evaluate-expression",
											"objectClass": "System",
											"sid": 152207350839603,
											"parameters": {
												"value": "OnSoilThings.angleOffset>0"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "OnSoilThings",
											"sid": 299202495552723,
											"parameters": {
												"instance-variable": "angleOffset",
												"value": "Self.angleOffset-Self.angleOffsetDecayRate"
											}
										}
									],
									"sid": 536158485734285
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 713338467083418
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "OnSoilThings",
											"sid": 457243174556520,
											"parameters": {
												"instance-variable": "angleOffsetState",
												"value": "\"IDLE\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "OnSoilThings",
											"sid": 563003221080742,
											"parameters": {
												"instance-variable": "angleOffset",
												"value": "0"
											}
										}
									],
									"sid": 104429698502981
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 409582985461602,
							"parameters": {
								"value": "debugEnabled"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "txtStatistics",
							"sid": 247796403845099,
							"parameters": {
								"text": "\"THINGS ON SOIL: \"&OnSoilThings.Count&newline&\"FPS:            \"&fps&newline&\"AREA:           \"&effectRadius&newline&\"EFFECTS:        \"&objEffectEmitter.Count&newline&\"SEASON:         \"&generationSeason"
							}
						}
					],
					"sid": 875768914088607
				}
			]
		},
		{
			"eventType": "comment",
			"text": "MOUSE INPUT SYSTEM"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "mouse-button-is-down",
					"objectClass": "Mouse",
					"sid": 976916293546058,
					"parameters": {
						"mouse-button": "left"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 570067217249106,
					"parameters": {
						"variable": "effectX",
						"value": "floor(Mouse.X)"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 552876427736908,
					"parameters": {
						"variable": "effectY",
						"value": "floor(Mouse.Y)"
					}
				}
			],
			"sid": 433394732680943,
			"disabled": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 499194767378521
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 315970786346104,
							"parameters": {
								"object-to-create": "objEffectEmitter",
								"layer": "\"Hud\"",
								"x": "Mouse.X",
								"y": "Mouse.Y",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "objEffectEmitter",
							"sid": 986846196617188,
							"parameters": {
								"instance-variable": "type",
								"value": "1"
							}
						}
					],
					"sid": 138459736837098,
					"disabled": true
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-button-released",
					"objectClass": "Mouse",
					"sid": 726283983064793,
					"parameters": {
						"mouse-button": "left"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 122606057675639,
					"parameters": {
						"variable": "effectX",
						"value": "effectDefaultCoordinateValue"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 884490018868800,
					"parameters": {
						"variable": "effectY",
						"value": "effectDefaultCoordinateValue"
					}
				}
			],
			"sid": 860459561186761,
			"disabled": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 851657636558668,
							"parameters": {
								"object": "objEffectEmitter",
								"expression": "objEffectEmitter.type=1"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "objEffectEmitter",
							"sid": 346335470750748
						}
					],
					"sid": 605875356259456,
					"disabled": true
				}
			]
		},
		{
			"eventType": "comment",
			"text": "TOUCH INPUT SYSTEM"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-in-touch",
					"objectClass": "Touch",
					"sid": 218544500621470
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 520966336156527,
					"parameters": {
						"variable": "effectX",
						"value": "floor(Touch.X)"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 314045410053552,
					"parameters": {
						"variable": "effectY",
						"value": "floor(Touch.Y)"
					}
				}
			],
			"sid": 735148924163400,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "trigger-once-while-true",
							"objectClass": "System",
							"sid": 800933728940933
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 161294483846195,
							"parameters": {
								"object-to-create": "objEffectEmitter",
								"layer": "\"Hud\"",
								"x": "Touch.X",
								"y": "Touch.Y",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "objEffectEmitter",
							"sid": 609997198241997,
							"parameters": {
								"instance-variable": "type",
								"value": "1"
							}
						}
					],
					"sid": 700981194959318
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-any-touch-end",
					"objectClass": "Touch",
					"sid": 548472320613074
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 539151757392058,
					"parameters": {
						"variable": "effectX",
						"value": "effectDefaultCoordinateValue"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 370500461536951,
					"parameters": {
						"variable": "effectY",
						"value": "effectDefaultCoordinateValue"
					}
				}
			],
			"sid": 442618884486191,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 479449291837770,
							"parameters": {
								"object": "objEffectEmitter",
								"expression": "objEffectEmitter.type=1"
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "objEffectEmitter",
							"sid": 530699809751753
						}
					],
					"sid": 743699682926165
				}
			]
		}
	],
	"sid": 886234230557849
}